<div id="item-panel">
<div class="h4">
  Inventory<br/>
  <small>Don't hoard too much stuff; it's no fun to be encumbered.</small>
</div>
    <table id="inventoryTable" style="border-width: 0px"
           class="table table-responsive table-ac-bordered table-hover">
      <thead>
    <table class="table table-responsive table-ac-bordered table-hover">
      <thead>
        <tr>
          <th id="inventoryTableItemHeader" class=""
            data-bind="click: function(){sortBy('itemName');}">
            Item
            <span data-bind="css: sortArrow('itemName')"></span></th>
          <th id="inventoryTableQuantityHeader" class=""
            data-bind="click: function(){sortBy('itemQty');}">
            Quantity
            <span data-bind="css: sortArrow('itemQty')"></span></th>
          <th id="inventoryTableWeightHeader" class=""
            data-bind="click: function(){sortBy('itemWeight');}">
            Weight
            <span data-bind="css: sortArrow('itemWeight')"></span></th>
          <th id="inventoryTableCostHeader" class=""
            data-bind="click: function(){sortBy('itemCost');}">
            Cost
            <span data-bind="css: sortArrow('itemCost')"></span></th>
          <th class=" text-right">
          </th>
        </tr>
      </thead>
      <tbody>
      <!-- ko foreach: filteredAndSortedEquipment -->
        <tr class="clickable expandRow" data-toggle="collapse"
              data-bind="attr:{'data-target': `#item_list_${$data.__id}`}">
          <td><span data-bind="text: itemName"></span></td>
          <td><span data-bind="text: itemQty"></span></td>
          <td><span data-bind="text: itemWeightLabel"></span></td>
          <td><span data-bind="text: costLabel"></span></td>
          <td class="text-right">
            <span data-toggle="collapse"
                  data-bind="attr:{'data-target': `#item_list_${$data.__id}`}"
                  class="rotate fa fa-chevron-left"></span>
          </td>
        </tr>
        <tr>
          <td colspan="6" style="padding: 0px; backgound-color: white !important; height: 100%">
            <flip-card params="{
                  dataId: $data.__id,
                  collapsable: true,
                  elementId: 'item_list',
                  context: {
                    data: $data,
                    remove: $component.removeItem,
                  }
                }">
              <div class="front">
                <div class="row" data-bind="with: context.data">
                  <div class="col-xs-12">
                    <div class="h4">
                      <span data-bind="text: itemName" class="inventoryPreviewNameLabel"></span>&nbsp;
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <table class="table table-hover table-condensed table-ac-bordered">
                      <tbody>
                        <tr>
                          <th>Quantity:</th>
                          <td><span data-bind="text: itemQty"></span></td>
                        </tr>
                        <tr>
                          <th>Weight:</th>
                          <td><span data-bind="text: itemWeightLabel"></span></td>
                        </tr>
                        <tr>
                          <th>Cost:</th>
                          <td><span data-bind="text: costLabel"></span></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="col-xs-9">
                      <p style="text-align:justify"
                           data-bind="html: itemDescriptionHTML"></p>
                  </div>
                </div>
              </div>
              <div class="back">
                <item-form params="{
                  data: context.data,
                  containerId: elementId,
                  showForm: editMode,
                  toggle: toggleCallback,
                  remove: context.remove }">
                </item-form>

              </div>
            </flip-card>
          </td>
        </tr>
      <!-- /ko -->
      </tbody>
      <tfoot>
        <tr>
          <td colspan="8">
            <div style="padding: 10px" id="add-item" class="collapse">
            <item-form params="{
              data: null,
              containerId: 'add-item',
              showForm: $component.showAddForm,
              add: $component.addItem,
              toggle: $component.toggleAddForm }">
            </item-form>
          </div>
          <!-- ko ifnot: $component.showAddForm -->
          <center>
            <button type="button"
                    class="btn btn-default btn-sm btn-block"
                    id="weaponAddButton"
                    data-toggle="collapse"
                    data-target="#add-item"
                    data-bind="click: toggleAddForm"><i class="fa fa-plus"></i> Add Item</button>
            </center>
            <!-- /ko -->
          </td>
        </tr>
      </tfoot>
    </table>
  </div>
