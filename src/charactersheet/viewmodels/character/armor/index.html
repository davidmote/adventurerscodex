<div id="armor-pane" class="ac-pane panel-body">
  <div class="h4 card-title">
      Armor<br />
      <small>Armor Class calculations are based on your equipped Armor, Shield, Magical Modifiers, and Dexterity.
             Be sure to Don your armor and/or shield so your AC will be calculated.
      </small>
  </div>
    <table class="table table-responsive table-ac-bordered table-hover" id="armorTable">
      <thead>
        <tr class="ac-table-header">
          <th id="armorTableEquippedHeader" data-bind="click: function(){sortBy('armorEquipped');}"
            class="">
          Equipped
          </th>
          <th id="armorTableArmorHeader" data-bind="click: function(){sortBy('armorName');}"
            class="">
            Armor
            <span data-bind="css: sortArrow('armorName')"></span>
          </th>
          <th id="armorTableTypeHeader" class="hidden-xs"
            data-bind="click: function(){sortBy('armorType');}">
            Type
            <span data-bind="css: sortArrow('armorType')"></span>
          </th>
          <th id="armorTableAcHeader" data-bind="click: function(){sortBy('armorClass');}"
            class="ac-table-data-cell">
            Armor Class
            <span data-bind="css: sortArrow('armorClass')"></span>
          </th>
          <th class="">
            <a href="#"
               data-bind="{click: collapseAll}">
                    <span class="fa fa-minus"></span>
                  </a>
          </th>
        </tr>
      </thead>
      <tbody>
      <!-- ko foreach: filteredAndSortedArmors -->
        <tr class="clickable expandRow" data-toggle="collapse"
              data-bind="css: {notCastable: !armorEquipped() }, attr:{'data-target': `#armor_list_${__id}`}">
            <td data-bind="click: $component.equipArmor">
                <input type='checkbox'
                       style=""
                       class='ac-checkbox sr-only'
                       data-bind="checked: armorEquipped, attr: {id: `armorEquipped_${__id}`}"></input>
                <label data-bind="attr: {for: `armorEquipped_${__id}`}">
              </label>
            </td>
            <td><span data-bind="text: armorName"></span>&nbsp;
              <span data-bind="text: magicalModifierLabel, css: { badge: applyMagicalModifierLabel }">
              </span></td>
          <td class="hidden-xs"><span data-bind="text: armorType"></span></td>
          <td class="ac-table-data-cell"><span data-bind="text: armorClass"></span></td>
          <td>
            <span data-toggle="collapse"
                  data-bind="attr:{'data-target': `#armor_list_${__id}`}"
                  class="rotate fa fa-chevron-left"></span>
          </td>
        </tr>
        <tr class="collapseRow">
          <td colspan="5">
            <flip-card params="{
                  dataId: $data.__id,
                  collapsable: true,
                  elementId: 'armor_list',
                  context: {
                    data: $data,
                    remove: $component.removeArmor,
                  }
                }">
              <div class="front">
                <div class="row" data-bind="with: context.data">
                  <div class="col-xs-12">
                    <div class="h4">
                      <span data-bind="text: armorName" id="armorPreviewNameLabel"></span>&nbsp;
                      <!-- ko if: armorEquipped() -->
                      <small>Equipped</small>
                      <!-- /ko -->
                    </div>
                  </div>
                  <div class="col-sm-5 col-md-12 col-lg-5">
                    <table class="spellDetail table table-hover table-condensed table-ac-bordered">
                      <tbody>
                        <tr>
                          <th>Armor Class:</th>
                          <td><span data-bind="text: armorClass"></span></td>
                        </tr>
                        <tr>
                          <th>Type:</th>
                          <td><span data-bind="text: armorType"></span></td>
                        </tr>
                        <tr>
                          <th>Stealth:</th>
                          <td><span data-bind="text: armorStealth"></span></td>
                        </tr>
                        <tr>
                          <th>Weight:</th>
                          <td><span data-bind="text: armorWeightLabel"></span></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="col-sm-7 col-md-12 col-lg-7">
                      <p style="text-align:justify"
                           data-bind="html: armorDescriptionHTML"></p>
                  </div>
              </div>
            </div>
              <div class="back">
                <armor-form params="{
                  data: context.data,
                  containerId: elementId,
                  showForm: editMode,
                  toggle: toggleCallback,
                  remove: context.remove }">
                </armor-form>
              </div>
            </flip-card>
          </td>
        </tr>
      <!-- /ko -->
      <tr class="collapseRow">
        <td colspan="5">
          <div id="add-armor" class="add-form collapse">
          <armor-form params="{
            data: null,
            containerId: 'add-armor',
            showForm: $component.showAddForm,
            add: $component.addArmor,
            toggle: $component.toggleAddForm }">
          </armor-form>
        </div>
      </td>
    </tr>
      </tbody>
        <tfoot>
          <tr>
            <td colspan="5">
            <div class="row">
              <div class="col-xs-4 text-muted">
                <small class="table-foot-content visible-xs"><span id="armorTableTotalWeightSpan" data-bind="text: totalWeight"></span></small>
                <span class="table-foot-content hidden-xs">Weight: <span id="armorTableTotalWeightSpan" data-bind="text: totalWeight"></span></span>
              </div>
              <div class="col-xs-4">
                <!-- ko ifnot: $component.showAddForm -->
                <button type="button"
                        class="btn btn-link btn-sm btn-block"
                        id="magicitemAddButton"
                        data-toggle="collapse"
                        data-target="#add-armor"
                        data-bind="click: toggleAddForm"><i class="fa fa-plus"></i> Add Armor</button>
                <!-- /ko -->
              </div>
                <div class="col-xs-4 text-muted">
              <!-- this space for value -->
              </div>
            </td>
          </tr>
        </tfoot>
      </tfoot>
    </table>
</div>
