<div id="proficiency-panel"
     style="min-width: 280px;">
  <div class="h4">
    Proficiencies
  </div>
  <table style="border-width: 0px"
         class="table table-responsive table-ac-bordered table-hover">
    <thead>
      <tr>
        <th data-bind="click: function(){sortBy('name');}">
          Proficiency
          <span data-bind="css: sortArrow('name')"></span>
        </th>
        <th data-bind="click: function(){sortBy('type');}">
          Type
          <span data-bind="css: sortArrow('type')"></span>
        </th>
      </tr>
    </thead>
    <tbody>
      <!-- ko foreach: filteredAndSortedProficiencies -->
      <tr data-toggle="collapse"
          class="clickable expandRow"
          data-bind="attr:{'data-target': `#proficiency_list_${__id}`, id: `#proficiency_row_${__id}`}">
        <td style="text-align: left"><span data-bind="text: name"></span></td>
        <td><span data-bind="text: type"></span></td>
        <td>
          <span data-toggle="collapse"
                data-bind="attr:{'data-target': `#proficiency_list_${__id}`}"
                class="rotate fa fa-chevron-left"></span>
        </td>
      </tr>
      <tr style="backgound-color: white !important; height: 100%">
        <td colspan="3"
            style="padding: 0px; height: 100%">
          <flip-card params="{
                dataId: $data.__id,
                context: {
                  data: $data,
                  remove: $component.removeProficiency,
                }
                collapsable: true,
                elementId: 'proficiency_list'
              }">
            <div class="front"
                 data-bind="with: context.data">
              <!-- ko if: description -->
              <p style="text-align: justify; padding: 10px; padding-top: 15px"
                 data-bind="markdownPreview: description "></p>
              <!-- /ko -->
              <!-- ko ifnot: description -->
              <p>No Description</p>
              <!-- /ko -->
            </div>
            <div class="back">
              <proficiency-form params="{
                data: context.data,
                containerId: elementId,
                showForm: editMode,
                toggle: toggleCallback,
                remove: context.remove }">
              </proficiency-form>
              </div>
             </flip-card>
        </td>
      </tr>
      <!-- /ko -->
      <!-- ko if: filteredAndSortedProficiencies().length == 0 -->
      <tr class="clickable">
        <td data-toggle="collapse"
            data-target="#add-proficiency"
            href="#"
            colspan="4"
            class="text-center">
          <i class="fa fa-plus fa-color"></i> Add a new Proficiency
        </td>
      </tr>
      <!-- /ko -->
    </tbody>
    <tfoot>
      <tr>
        <td colspan="4">
          <div style="padding: 10px" id="add-proficiency" class="collapse">
          <proficiency-form params="{
            data: null,
            containerId: 'add-proficiency',
            showForm: $component.showAddForm,
            add: $component.addProficiency,
            toggle: $component.toggleAddForm }">
          </proficiency-form>
        </div>
        <!-- ko ifnot: $component.showAddForm -->
        <center>
          <button type="button"
                  class="btn btn-primary btn-sm"
                  id="proficiencyAddButton"
                  data-toggle="collapse"
                  data-target="#add-proficiency"
                  data-bind="click: toggleAddForm">Add Proficiency</button>
          </center>
          <!-- /ko -->
        </td>
      </tr>
    </tfoot>
  </table>
  </div>
