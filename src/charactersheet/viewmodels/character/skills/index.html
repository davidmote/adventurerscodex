
<div id="skill-panel" data-bind="{style: {height: elementHeight}}" style="min-width: 280px;">
  <edit-button params="toggleMode: editMode, clickAction: editSkills">
  </edit-button>
  <div class="h4">
    Skills<br />
    <small>Your Skills take into account your Ability Score modifiers
    and Proficiency Bonus.</small>
  </div>
    <div  class="flip-container" data-bind="css: {flipped: editMode}" >
      <div class="flipper">
        <div class="front">
    <table style="border-width: 0px" class="table table-responsive table-ac-bordered table-hover">
      <thead>
        <tr>
          <th data-bind="click: function(){sortBy('proficiency');}"
            class="">
            <span class="glyphicon glyphicon-ok"></span>
            <span data-bind="css: sortArrow('proficiency')"></span>
          </th>
          <th data-bind="click: function(){sortBy('name');}"
            class="">
            Skill
            <span data-bind="css: sortArrow('name')"></span>
          </th>
          <th class="">
            Modifier
          </th>

          <th class="">
            Passive
          </th>
        </tr>
      </thead>
      <tbody data-bind='foreach: filteredAndSortedSkills'>
        <tr>
          <td>
            <prof-marker params="proficiency: proficiency"></prof-marker>
          </td>
          <td style="text-align: left"><span data-bind="html: name"></span></td>
          <td><span data-bind="html: bonusLabel"></span></td>
          <td><span data-bind="text: passiveBonus"></span></td>
          <!-- <td class="col-content-vertical col-xs-1">
            <a data-bind="click: $parent.removeSkill" href="#">
              <i class="fa fa-trash-o fa-color-hover"></i>
            </a>
          </td> -->
        </tr>
      </tbody>
    </table>
  </div>
  <div class="back">
    <form class="form-horizontal" data-bind="{submit: editSkills}">
    <table style="border-width: 0px" class="table table-responsive table-ac-bordered table-hover">
      <thead>
        <tr>
          <th data-bind="click: function(){sortBy('proficiency');}"
            class="">
            <span class="glyphicon glyphicon-ok"></span>
            <span data-bind="css: sortArrow('proficiency')"></span>
          </th>
          <th data-bind="click: function(){sortBy('name');}"
            class="">
            Skill
            <span data-bind="css: sortArrow('name')"></span>
          </th>
          <th class="">
            Bonus
          </th>
          <th>
          </th>
        </tr>
      </thead>
      <tbody data-bind='foreach: filteredAndSortedSkills'>
        <tr>
          <td>
<select class="form-control" style="width: 50px"
data-bind="value: proficiency,
options: $parent.proficiencyOptions,
select2: {
  placeholder: '',
  minimumResultsForSearch: Infinity,
  templateSelection: $parent.formatProficiency,
  templateResult: $parent.formatProficiencyOptions,
  dropdownAutoWidth: true
 }"></select>
          </td>
          <td style="text-align: left"><span data-bind="html: nameLabel"></span></td>
          <td>
            <div class="input-group">
              <input style="font-size: 15px; padding: 10px 0 10px 10px; width:45px" type="number" class="form-control" id="modifier"
                     data-bind="value: modifier" />
              <span style="padding: 0px 10px; width: auto" class="input-group-addon">
                <span data-bind="text: bonus"></span>
              </span>
            </div>
          </td>
          <td>
            <a data-bind="click: $parent.removeSkill" href="#">
              <i class="fa fa-trash-o fa-color-hover"></i>
            </a>
          </td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td colspan="4">
                <div style="padding: 10px;" id="add-skill" class="collapse" data-bind="with: blankSkill">
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Skill</label>
                      <div class="col-sm-8">
                    <input type="text"
                           class="form-control"
                           id="name"
                           placeholder="Name"
                           data-bind='textInput: name, hasFocus: $parent.newSkillFieldHasFocus'>
                      </div>
                    </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Proficient</label>
                      <div class="col-sm-8">
                        <select class="form-control" style="width: 100%"
                          data-bind="value: proficiency,
                          options: $parent.proficiencyOptions,
                          select2: {
                            placeholder: '',
                            minimumResultsForSearch: Infinity,
                            templateSelection: $parent.formatProficiencyOptions,
                            templateResult: $parent.formatProficiencyOptions,
                            dropdownAutoWidth: true
                           }"></select>
                      </div>
                    </div>

                    <div class="form-group">
                      <label class="col-sm-4 control-label">Ability Score</label>
                        <div class="col-sm-8">
                          <select class="form-control" style="width: 100%"
                            data-bind="value: abilityScore,
                            select2: {
                              data: $parent.abilityScoreOptions,
                              placeholder: 'Strength',
                              minimumResultsForSearch: Infinity,
                              dropdownAutoWidth: true
                             }"></select>
                        </div>
                      </div>
                  </div>
            <div>
            <center>
              <button type="button" class="btn btn-primary btn-sm btn-block" id="skillAddButton" data-toggle="collapse" data-target="#add-skill">Add Skill</button>
              <button type="button" class="btn btn-default btn-sm" id="skillAddCancelButton" data-toggle="collapse" data-target="#add-skill" data-bind='click: $parent.cancelAddSkill'>Cancel</button>
              <button type="submit" class="btn btn-primary btn-sm" id="skillAddAddButton" data-toggle="collapse" data-target="#add-skill">Add</button>
            </center>
          </div>
        </form>
        </td>
        </tr>
      </tfoot>
    </table>
      <button type="submit" style="display:none"></button>
    </form>
  </div>
</div>
</div>
</div>
